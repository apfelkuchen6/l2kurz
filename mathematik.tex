%!TEX root = l2kurz.tex

% master: l2kurz.tex
% L2K3.TEX - 3.Teil der LaTeX2e-Kurzbeschreibung v2.2
% L2K3.TEX - 3.Teil der LaTeX2e-Kurzbeschreibung Mainz 1994, 1995
% LK3.TEX  - 3.Teil der LaTeX-Kurzbeschreibung Graz-Wien 1987
% last changes: 2001-06-10

\section{Setzen von mathematischen Formeln} \label{math}

\todo[inline]{MD: Ich habe angefangen, dies zu überarbeiten}

\subsection{Allgemeines}

\LaTeX{} verfügt über einen eigenen Mathemodus, der sich in einigen
Punkten sehr stark vom Textmodus unterscheidet. Auf die Unterschiede
wird im späteren Verlauf eingegangen. Der Mathematikmodus selbst
kann in zwei Bereiche unterteilte werden, \todo{MD: Satz gefällt mir nicht}
den abgesetzten und den integrierten Modus.

Die Füller der Möglichkeiten ist u.\,a.\ in der Onlindocumentation \emph{mathmode}
zusammemgefasst und soll hier als Referenz dienen \cite{mathmode}.

Obwohl \LaTeX{} ohne Zusatzpakete eine Fülle von Möglichkeiten liefert,
hat sich das Paket \texttt{amsmath} etabliert. Es erweitert die Standardmöglichkeiten
um eine Vielzahl von Makros und Umgebungen. Im weiteren Verlauf wird daher auch
vorausgesetzt, dass das Paket geladen ist. Neben der Dokumenation selbst, sind im genannten
\emph{mathmode} die Möglichkeiten und Vorteile des Paktes gezeigt.
 
Mathematische Textteile innerhalb eines Absatzes werden zwischen
\lstinline|\(| und~\lstinline|\)| oder zwischen \lstinline|$| und~\lstinline|$| oder
zwischen \lstinline|\begin{math}| und \lstinline|\end{math}|
eingeschlossen.
Als mathematische Texte gelten sowohl komplette mathematische
Formeln als auch einzelne Variablennamen, die sich auf Formeln
beziehen, griechische Buchstaben und diverse Sonderzeichen.\todo{PG: die nachfolgenden Elemente sollten \$...\$ benutzen, die Variante mit \cs{(} und \cs{)} sind nicht robust}
\begin{LTXexample}
Seien $a$ und $b$die Katheten
und $c$ die Hypotenuse,
dann gilt $c^{2}=a^{2}+b^{2}$
(Satz des Pythagoras).
\end{LTXexample}

\begin{LTXexample}
\TeX\ spricht man wie
 $\tau\epsilon\chi$ aus.\\
Mit $\heartsuit$-lichen
 Grü\ss en
\end{LTXexample}

 
Größere mathematische Formeln oder Gleichungen setzt man besser
in eigene Zeilen. Wenn sie \emph{keine} Gleichungsnummer erhalten 
sollen, stellt man sie dazu zwischen \lstinline|\begin{displaymath}| und
\lstinline|\end{displaymath}| oder zwischen \lstinline|\[| und~\lstinline|\]|; 
wenn sie eine Gleichungsnummer erhalten sollen, stellt man sie
zwischen \lstinline|\begin{equation}| und \lstinline|\end{equation}|.

\begin{LTXexample}
Seien $a$ und $b$ die Katheten
und $c$ die Hypotenuse,
dann gilt
\begin{equation}
c = \sqrt{  a^{2}+b^{2}  }
\end{equation}
(Satz des Pythagoras).
\end{LTXexample}


Mit \lstinline|\label| und \lstinline|\ref| kann man die Gleichungsnummern
im Text ansprechen.

\let\origlabel\label
\begin{LTXexample}[preset=\let\label\origlabel]
\begin{equation} \label{eps}
\varepsilon > 0
\end{equation}
 
Aus (\ref{eps}) folgt \dots
\end{LTXexample}

 
 
Das Setzen im mathematischen Modus unterscheidet sich vom
Text-Modus vor allem durch folgende Punkte:
\begin{enumerate}
\item Leerzeilen sind verboten (Mathematische Formeln müssen
  innerhalb eines Absatzes stehen).

\item Leerstellen und Zeilenwechsel haben bei der Eingabe keine
  Bedeutung, alle Abstände werden nach der Logik der
  mathematischen Ausdrücke automatisch bestimmt oder müssen
  durch spezielle Befehle wie \lstinline|\,| oder~\lstinline|\qquad|
  angegeben werden.

\begin{LTXexample}
\begin{equation}
\forall x \in \mathbf{R}:
\qquad x^{2} \geq 0
\end{equation}
\end{LTXexample}

 
\item Jeder einzelne Buchstabe wird als Name einer Variablen
  betrachtet und entsprechend gesetzt (kursiv mit
  zusätzlichem Abstand).  Will man innerhalb eines
  mathematischen Textes normalen Text (in aufrechter Schrift, mit
  Wortabständen) setzen, muss man diesen in
  \lstinline|\textnormal{...}| einschließen.

\begin{LTXexample}
\begin{equation}
x^{2} \geq 0\qquad
\textnormal{f"ur alle }
x \in \mathbf{R}
\end{equation}
\end{LTXexample}

 
 
\end{enumerate}
 
\subsection{Elemente in mathematischen Formeln}
 
In diesem Abschnitt werden die wichtigsten Elemente, die in
mathematischen Formeln verwendet werden, kurz beschrieben.  Eine
Liste aller verfügbaren Symbole enthält
Anahng~\vref{symbols}.
 
\bigskip

Kleine \textbf{griechische Buchstaben} werden als \lstinline|\alpha|,
\lstinline|\beta|, \lstinline|\gamma|, \lstinline|\delta|, usw.\ eingegeben,
große griechische Buchstaben als \lstinline|\mathrm{A}|,
\lstinline|\mathrm{B}|, \lstinline|\Gamma|, \lstinline|\Delta|, usw.

\begin{LTXexample}
$\lambda, \xi, \pi, \mu,
 \Phi, \Omega $
\end{LTXexample}

 
Weiters gibt es eine Fülle von \textbf{mathematischen Symbolen}:
von $\in$ über $\Rightarrow$ bis~$\infty$ (siehe
Anhang~\vref{symbols}).
 
\bigskip

Neben der voreingestellten Kursivschrift für die Variablen
bietet \LaTeX\ eine Auswahl von mathematischen \textbf{Alphabeten} an:
\begin{LTXexample}
$\mathrm{ABCabc}$ \\
$\mathbf{ABCabc}$ \\
$\mathsf{ABCabc}$ \\
$\mathtt{ABCabc}$ \\
$\mathcal{ABC}$
\end{LTXexample}

Die kalligraphischen Buchstaben (\lstinline:\mathcal:) gibt es nur als
Großbuchstaben. Mit dem Paket \texttt{amsymb} \cite{ch8} stehen
auch Alphabete für Mengenzeichen und Frakturschrift zur Verfügung.
Lokal können noch weitere installiert sein.


\bigskip

\textbf{Exponenten und Indizes} können mit den Zeichen \lstinline|^|
und \lstinline|_| hoch- bzw.\ tiefgestellt werden.

\begin{LTXexample}
\[
a_{1} \qquad x^{2} \qquad
 e^{-\alpha t} \qquad a^{3}_{ij}
\]
\end{LTXexample}

 
Das \textbf{Wurzelzeichen} wird mit \lstinline|\sqrt|, \textit{n}-te
Wurzeln werden mit \lstinline|\sqrt[|\textit{n}\lstinline|]| eingegeben.
Die Größe des Wurzelzeichens wird von \LaTeX\ automatisch
gewählt.

\begin{LTXexample}
\[
\sqrt{x} \qquad  \sqrt{ x^{2}+\sqrt{y} }
   \qquad \sqrt[3]{2}
\]
\end{LTXexample}
 
Die Befehle \lstinline|\overline| und \lstinline|\underline| bewirken
\textbf{waagrechte Striche} direkt über bzw.\ unter einem
Ausdruck.
\begin{LTXexample}
$\overline{m+n}$
\end{LTXexample}
 
Die Befehle \lstinline|\overbrace| und \lstinline|\underbrace| bewirken
\textbf{waagrechte Klammern} über bzw.\ unter einem Ausdruck.

\begin{LTXexample}
$\underbrace{a+b+\cdots+z}_{26}$
\end{LTXexample}

 
Um mathematische \textbf{Akzente} wie Pfeile oder Schlangen auf
Variablen zu setzen, gibt es die in Tabelle~\ref{mathakz} auf
Seite~\pageref{mathakz} angeführten Befehle.
Längere Tilden und Dacherln, die sich über mehrere (bis zu~3)
Zeichen erstrecken können, erhält man mit \lstinline|\widetilde|
bzw.\ \lstinline|\widehat|.
Ableitungszeichen werden mit \lstinline|'| (Apostroph) eingegeben.\todo{PG: Hier würde ich statt displaymath auf \cs{[} und \cs{]} zurückgreifen, ist kürzer und besser lesbar (und wird in der Praxis vermutlich mehr benutzt?)}

\begin{LTXexample}
\begin{displaymath}
y=x^{2} \qquad
y'=2x   \qquad
y''=2
\end{displaymath}
\end{LTXexample}

 
Mathematische \textbf{Funktionen} werden in der Literatur
üblicherweise nicht kursiv (wie die Namen von Variablen),
sondern in "`normaler"' Schrift dargestellt.
\LaTeX\ stellt die folgenden Befehle für mathematische
Funktionen zur Verfügung:

\begin{LTXexample}[pos=b]
\begin{tabular}{@{}*{8}{>{$}c<{$}}@{}}
\arccos & \cos  & \csc & \exp & \ker    & \limsup & \min & \sinh \\
\arcsin & \cosh & \deg & \gcd & \lg     & \ln     & \Pr  & \sup  \\
\arctan & \cot  & \det & \hom & \lim    & \log    & \sec & \tan  \\
\arg    & \coth & \dim & \inf & \liminf & \max    & \sin & \tanh \\
\end{tabular}
\end{LTXexample}

Für die Modulo-Funktion gibt es zwei verschiedene Befehle:
\lstinline|\bmod| für den binären Operator \(a \bmod b\) und
\lstinline|\pmod{...}| für die Angabe in der Form \(x\equiv a
\pmod{b}\).
 
\begin{LTXexample}
\begin{displaymath}
\lim_{x \to 0} \frac{\sin x}{x}
=1
\end{displaymath}
\end{LTXexample}
 
Ein \textbf{Bruch} (fraction) wird mit dem Befehl
\lstinline|\frac{...}{...}| gesetzt.  Für einfache Brüche kann man
aber auch den Operator~\lstinline|/| verwenden.

\begin{LTXexample}
\(1\frac{1}{2}\)~Stunden
\begin{displaymath}
\frac{ x^{2} }{ k+1 } \qquad
x^{ \frac{2}{k+1} } \qquad
x^{ 1/2 }
\end{displaymath}
\end{LTXexample}


\textbf{Binomial-Koeffizienten} können in der Form
\lstinline|{...\choose...}| gesetzt werden.
Mit dem Befehl~\lstinline|\atop| erhält man das Gleiche ohne
Klammern.

\begin{LTXexample}
\begin{displaymath}
{ n \choose k } \qquad
{ x\atop y+2 }
\end{displaymath}
\end{LTXexample}


\medskip

Das \textbf{Integralzeichen} wird mit \lstinline|\int| eingegeben, das
\textbf{Summenzeichen} mit \lstinline|\sum|.
Die obere und untere Grenze wird mit \lstinline|^| bzw.~\lstinline|_| wie
beim \mbox{Hoch-}\slash Tiefstellen angegeben.
 
Normalerweise werden die Grenzen neben das Integralzeichen
gesetzt (um Platz zu sparen), durch Einfügen des Befehls
\lstinline|\limits| wird erreicht, dass die Grenzen oberhalb und
unterhalb des Integralzeichens gesetzt werden.
 
Beim Summenzeichen hingegen werden die Grenzen bei der Angabe von
\lstinline|\nolimits| oder im laufenden Text neben das Summenzeichen
gesetzt, ansonsten aber unter- und oberhalb.

\begin{LTXexample}
\begin{displaymath}
\sum_{i=1}^{n} \qquad
\int_{0}^{\frac{\pi}{2}} \qquad
\int \limits_{-\infty}^{+\infty}
\end{displaymath}
\end{LTXexample}
 
Für \textbf{Klammern} und andere Begrenzer gibt es in \TeX\ 
viele verschiedene Symbole
(z.\,B.~\([\;\langle\;\|\;\updownarrow\)).
Runde und eckige Klammern können mit den entsprechenden Tasten
eingegeben werden, geschwungene mit~\lstinline|\{|, die anderen mit
speziellen Befehlen (z.\,B.~\lstinline|\updownarrow|).
 
Setzt man den Befehl \lstinline|\left| vor öffnende Klammern und den
Befehl \lstinline|\right| vor schließende, so wird automatisch die
richtige Größe gewählt.\todo{MD: in gleicher Zeile!\\PG: ja. Das merkt der Anwender aber auch, wenn er es falsch macht.}

\begin{LTXexample}
\begin{displaymath}
1 + \left( \frac{1}{ 1-x^{2} }
    \right) ^3
\end{displaymath}
\end{LTXexample}

 
In manchen Fällen möchte man die Größe der Klammern lieber
selbst festlegen, dazu sind die Befehle
\lstinline|\bigl|,
\lstinline|\Bigl|,
\lstinline|\biggl| und
\lstinline|\Biggl| anstelle von \lstinline|\left|
und analog \lstinline|\bigr| etc.\ anstelle von \lstinline|\right|
anzugeben.

\begin{LTXexample}
\begin{displaymath}
\Bigl( (x+1) (x-1) \Bigr) ^{2}
\end{displaymath}
\end{LTXexample}
 
Um in Formeln \textbf{3~Punkte} (z.\,B.\ für \(1,2,\ldots,n\))
auszugeben, gibt es die Befehle
\lstinline|\ldots| und \lstinline|\cdots|.
\lstinline|\ldots| setzt die Punkte auf die Grundlinie (low),
\lstinline|\cdots| setzt sie in die Mitte der Zeilenhöhe
(centered).
Außerdem gibt es die Befehle
\lstinline|\vdots| für vertikal und
\lstinline|\ddots| für diagonal angeordnete Punkte.

\begin{LTXexample}
\begin{displaymath}
x_{1},\ldots,x_{n} \qquad
x_{1}+\cdots+x_{n}
\end{displaymath}
\end{LTXexample}


\subsection{Nebeneinander Setzen}
 
Wenn man mit den von \TeX\ gewählten \textbf{Abständen}
innerhalb von Formeln nicht zufrieden ist, kann man sie mit
expliziten Befehlen verändern. Die wichtigsten sind
\lstinline|\,| für einen sehr kleinen Abstand,
\lstinline|\ | für einen mittleren,
\lstinline|\quad| und \lstinline|\qquad| für große Abstände sowie\todo{MD: \texttt{\string\quad=1em \string\qquad=2em} . Sollte erwähnt werden, denn so erkennt man die Schriftabhängigkeit\\PG: OK}
\lstinline|\!| für die Verkleinerung eines Abstands.

\begin{LTXexample}
\begin{displaymath}
F_{n} = F_{n-1} + F_{n-2}
 \qquad n \ge 2
\end{displaymath}
\end{LTXexample}


\begin{LTXexample}
\begin{displaymath}
\int\!\!\!\int_{D} 
\mathrm{d}x\,\mathrm{d}y
\quad \textnormal{statt} \quad
\int\int_{D} 
\mathrm{d}x \mathrm{d}y
\end{displaymath}
\end{LTXexample}



\subsection{Übereinander Setzen}

Für \textbf{Matrizen} u.\,ä.\ gibt es die
\texttt{array}-Umgebung, die ähnlich wie die
\texttt{tabular}-Umgebung funktioniert.
Der Befehl~\lstinline|\\| trennt die Zeilen.

\begin{LTXexample}
\begin{displaymath}
\mathbf{X} =
\left( \begin{array}{ccc}
x_{11} & x_{12} & \ldots \\
x_{21} & x_{22} & \ldots \\
\vdots & \vdots & \ddots
\end{array} \right)
\end{displaymath}
\end{LTXexample}


Für \textbf{mehrzeilige} Formeln oder Gleichungssysteme
verwendet man die Umgebungen \texttt{eqnarray} und
\texttt{eqnarray*} statt \texttt{equation}. \todo{PG: eqnarray ist böse und sollte nicht verwendet werden. Besser: align. Zumindest habe ich das so in der letzten TUGboat gelesen.\\MD: Der komplette Abschnitt muss überarbeitet werden}
Bei \texttt{eqnarray} erhält jede Zeile eine eigene
Gleichungsnummer, bei \texttt{eqnarray*} wird ebenso wie bei
\texttt{displaymath} \emph{keine} Nummer hinzugefügt.
Für Gleichungssysteme, die \emph{eine} gemeinsame Nummer
erhalten sollen, kann man eine \texttt{array}-Umgebung innerhalb
der \texttt{equation}-Umgebung verwenden.

Die Umgebungen \texttt{eqnarray} und \texttt{eqnarray*}
funktionieren wie eine 3-spaltige Tabelle der Form~\lstinline|{rcl}|,
wobei die mittlere Spalte für das Gleichheits- oder
Ungleichheitszeichen verwendet wird, nach dem die Zeilen
ausgerichtet werden sollen.
Der Befehl~\lstinline|\\| trennt die Zeilen.

\begin{LTXexample}
\begin{eqnarray}
f(x) & = & \cos x       \\
f'(x) & = & -\sin x     \\
\int_{0}^{x} f(y)\,\mathrm{d}y &
 = & \sin x
\end{eqnarray}
\end{LTXexample}

 
\textbf{Zu lange Gleichungen} werden von \LaTeX\ \textit{nicht}
automatisch abgeteilt.
Der Autor muss bestimmen, an welcher Stelle abgeteilt und wie
weit eingerückt werden soll.
Meistens verwendet man dafür eine der beiden folgenden
Varianten:

\begin{LTXexample}
\begin{eqnarray}
\sin x & = & x -\frac{x^{3}}{3!}
     +\frac{x^{5}}{5!} - {} 
                    \nonumber\\
 & &{} -\frac{x^{7}}{7!} + \cdots
\end{eqnarray}
\end{LTXexample}


\begin{LTXexample}
\begin{eqnarray}
\lefteqn{ \cos x = 1
     -\frac{x^{2}}{2!} +{} }
                    \nonumber\\
 & &{} +\frac{x^{4}}{4!}
     -\frac{x^{6}}{6!} + \cdots
\end{eqnarray}
\end{LTXexample}

Der Befehl \lstinline|\nonumber| bewirkt, dass an diese Stelle keine
Gleichungsnummer gesetzt wird.
Der Befehl \lstinline|\lefteqn| ermöglicht Ausnahmen von der
Spaltenaufteilung innerhalb \texttt{eqnarray}. 
Genauere Informationen enthält das \manual.

\endinput
